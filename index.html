<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Canvas Drawing</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button id="hover">Turn On</button>
  <br>  
  <div id="canvas-container">
     <canvas></canvas>
  </div>
 
  <script>

    let buttonState = false; 

    const btn = document.querySelector("button");
    const canvas = document.querySelector("canvas");
    const ctx = canvas.getContext("2d");
    
    btn.onclick = () => {
      buttonState = !buttonState; 
      UpdateButton(); 
    }

    const UpdateButton = () => {
      if (buttonState == true) {
        btn.textContent = 'Turn Off'
      } else {
        btn.textContent = 'Turn On'
      }
    }

    canvas.width = document.documentElement.clientWidth;
    canvas.height = document.documentElement.clientHeight;

    let WIDTH = canvas.width;
    let HEIGHT = canvas.height;

    function random(number) {
      return Math.floor(Math.random() * number);
    }

    function draw() {
      ctx.clearRect(0, 0, WIDTH, HEIGHT);
      for (let i = 0; i < 100; i++) {
        ctx.beginPath();
        ctx.fillStyle = "rgb(123 60 123 / 50%)";
        ctx.arc(random(WIDTH), random(HEIGHT), random(50), 0, 2 * Math.PI);
        ctx.fill();

      }
    }

    function animate() {
      if (buttonState == false){
        return
      } else {
        draw();
        requestAnimationFrame(animate);
      }
    }

    btn.addEventListener("click", animate);
  </script>
</body>
</html>
